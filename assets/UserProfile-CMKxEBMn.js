import{q as u,s as v,g as V,w as t,o as k,v as e,B as E,bO as U,E as x}from"./index-Ds4Ljw_i.js";import{E as w,a as y}from"./el-form-item-DFNmFRi_.js";import{E as B}from"./el-button-DwTVjs2M.js";import{E as q}from"./el-input-DiDiLEzi.js";import{P as C}from"./PageContainer-lwgJSOxo.js";import"./el-message-CxDoke59.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const j={__name:"UserProfile",setup(F){const s=u(),{user:{email:n,id:i,nickname:d,username:p},getUser:f}=v(),l=u({id:i,nickname:d,email:n,username:p}),_={nickname:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是 3-10 位的字符",trigger:"blur"}],email:[{required:!0,message:"请输入用户邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:["blur","change"]}]},c=async()=>{await s.value.validate(),await U(l.value),f(),x.success("修改成功")};return(I,a)=>{const m=q,r=y,g=B,b=w;return k(),V(C,{title:"基本资料"},{default:t(()=>[e(b,{ref_key:"formRef",ref:s,model:l.value,rules:_,"label-width":"100px"},{default:t(()=>[e(r,{label:"登录名称"},{default:t(()=>[e(m,{modelValue:l.value.username,"onUpdate:modelValue":a[0]||(a[0]=o=>l.value.username=o),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:t(()=>[e(m,{modelValue:l.value.nickname,"onUpdate:modelValue":a[1]||(a[1]=o=>l.value.nickname=o)},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:t(()=>[e(m,{modelValue:l.value.email,"onUpdate:modelValue":a[2]||(a[2]=o=>l.value.email=o)},null,8,["modelValue"])]),_:1}),e(r,null,{default:t(()=>[e(g,{type:"primary",onClick:c},{default:t(()=>a[3]||(a[3]=[E("提交修改")])),_:1,__:[3]})]),_:1})]),_:1},8,["model"])]),_:1})}}};export{j as default};
