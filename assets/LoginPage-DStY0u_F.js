import{b as U,m as y,d as v,_ as B,a as E,i as z,c,u as P,e as R,f as J,g as w,o as b,w as l,r as h,n as q,h as I,j as d,k as F,l as A,p as G,q as k,s as H,t as Q,v as t,x as C,y as K,z as N,A as O,B as m,C as W,E as L,D as X,F as Y}from"./index-Ds4Ljw_i.js";import{E as Z}from"./el-checkbox-loEz9kRL.js";import{E as ee,a as se}from"./el-form-item-DFNmFRi_.js";import{E as te}from"./el-link-CL5jtDZv.js";import{E as le}from"./el-button-DwTVjs2M.js";import{E as oe}from"./el-input-DiDiLEzi.js";import"./el-message-CxDoke59.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./isEqual--Q6XVOVu.js";const re=U({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:v([Number,Object]),default:()=>y({})},sm:{type:v([Number,Object]),default:()=>y({})},md:{type:v([Number,Object]),default:()=>y({})},lg:{type:v([Number,Object]),default:()=>y({})},xl:{type:v([Number,Object]),default:()=>y({})}}),D=Symbol("rowContextKey"),ue=E({name:"ElCol"}),ne=E({...ue,props:re,setup(x){const a=x,{gutter:u}=z(D,{gutter:c(()=>0)}),s=P("col"),i=c(()=>{const o={};return u.value&&(o.paddingLeft=o.paddingRight=`${u.value/2}px`),o}),f=c(()=>{const o=[];return["span","offset","pull","push"].forEach(e=>{const n=a[e];R(n)&&(e==="span"?o.push(s.b(`${a[e]}`)):n>0&&o.push(s.b(`${e}-${a[e]}`)))}),["xs","sm","md","lg","xl"].forEach(e=>{R(a[e])?o.push(s.b(`${e}-${a[e]}`)):J(a[e])&&Object.entries(a[e]).forEach(([n,r])=>{o.push(n!=="span"?s.b(`${e}-${n}-${r}`):s.b(`${e}-${r}`))})}),u.value&&o.push(s.is("guttered")),[s.b(),o]});return(o,_)=>(b(),w(F(o.tag),{class:I(d(f)),style:q(d(i))},{default:l(()=>[h(o.$slots,"default")]),_:3},8,["class","style"]))}});var pe=B(ne,[["__file","col.vue"]]);const de=A(pe),ie=["start","center","end","space-around","space-between","space-evenly"],fe=["top","middle","bottom"],me=U({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:ie,default:"start"},align:{type:String,values:fe}}),ce=E({name:"ElRow"}),_e=E({...ce,props:me,setup(x){const a=x,u=P("row"),s=c(()=>a.gutter);G(D,{gutter:s});const i=c(()=>{const o={};return a.gutter&&(o.marginRight=o.marginLeft=`-${a.gutter/2}px`),o}),f=c(()=>[u.b(),u.is(`justify-${a.justify}`,a.justify!=="start"),u.is(`align-${a.align}`,!!a.align)]);return(o,_)=>(b(),w(F(o.tag),{class:I(d(f)),style:q(d(i))},{default:l(()=>[h(o.$slots,"default")]),_:3},8,["class","style"]))}});var ge=B(_e,[["__file","row.vue"]]);const ye=A(ge),ve={class:"flex"},we={__name:"LoginPage",setup(x){const a=k(!1),u=k(),s=k({username:"",password:"",repassword:""}),i={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是 3-10 位的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15 位的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15 的非空字符",trigger:"blur"},{validator:($,e,n)=>{e!==s.value.password?n(new Error("两次输入的密码不一致!")):n()},trigger:"blur"}]},f=async()=>{await u.value.validate(),await W(s.value),L.success("注册成功"),a.value=!1},o=H(),_=async()=>{await u.value.validate();const{token:$}=await X(s.value);o.token=$,L.success("登录成功"),Y.push("/")};return Q(a,()=>{s.value={username:"",password:"",repassword:""}}),($,e)=>{const n=de,r=se,g=oe,j=le,V=te,S=ee,M=Z,T=ye;return b(),w(T,{class:"login-page"},{default:l(()=>[t(n,{span:12,class:"bg"}),t(n,{span:6,offset:3,class:"form"},{default:l(()=>[a.value?(b(),w(S,{key:0,model:s.value,rules:i,ref_key:"form",ref:u,size:"large",autocomplete:"off"},{default:l(()=>[t(r,null,{default:l(()=>e[7]||(e[7]=[C("h1",null,"注册",-1)])),_:1,__:[7]}),t(r,{prop:"username"},{default:l(()=>[t(g,{modelValue:s.value.username,"onUpdate:modelValue":e[0]||(e[0]=p=>s.value.username=p),"prefix-icon":d(K),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),t(r,{prop:"password"},{default:l(()=>[t(g,{modelValue:s.value.password,"onUpdate:modelValue":e[1]||(e[1]=p=>s.value.password=p),"prefix-icon":d(N),type:"password",placeholder:"请输入密码","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),t(r,{prop:"repassword"},{default:l(()=>[t(g,{onKeyup:O(f,["enter"]),modelValue:s.value.repassword,"onUpdate:modelValue":e[2]||(e[2]=p=>s.value.repassword=p),"prefix-icon":d(N),type:"password",placeholder:"请输入再次密码","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),t(r,null,{default:l(()=>[t(j,{onClick:f,class:"button",type:"primary","auto-insert-space":""},{default:l(()=>e[8]||(e[8]=[m(" 注册 ")])),_:1,__:[8]})]),_:1}),t(r,{class:"flex"},{default:l(()=>[t(V,{type:"info",underline:"never",onClick:e[3]||(e[3]=p=>a.value=!1)},{default:l(()=>e[9]||(e[9]=[m(" ← 返回 ")])),_:1,__:[9]})]),_:1})]),_:1},8,["model"])):(b(),w(S,{key:1,model:s.value,rules:i,ref_key:"form",ref:u,size:"large",autocomplete:"off"},{default:l(()=>[t(r,null,{default:l(()=>e[10]||(e[10]=[C("h1",null,"登录",-1)])),_:1,__:[10]}),t(r,{prop:"username"},{default:l(()=>[t(g,{modelValue:s.value.username,"onUpdate:modelValue":e[4]||(e[4]=p=>s.value.username=p),"prefix-icon":d(K),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),t(r,{prop:"password"},{default:l(()=>[t(g,{onKeyup:O(_,["enter"]),modelValue:s.value.password,"onUpdate:modelValue":e[5]||(e[5]=p=>s.value.password=p),name:"password","prefix-icon":d(N),type:"password",placeholder:"请输入密码","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),t(r,{class:"flex"},{default:l(()=>[C("div",ve,[t(M,null,{default:l(()=>e[11]||(e[11]=[m("记住我")])),_:1,__:[11]}),t(V,{type:"primary",underline:"never"},{default:l(()=>e[12]||(e[12]=[m("忘记密码？")])),_:1,__:[12]})])]),_:1}),t(r,null,{default:l(()=>[t(j,{onClick:_,class:"button",type:"primary","auto-insert-space":""},{default:l(()=>e[13]||(e[13]=[m("登录")])),_:1,__:[13]})]),_:1}),t(r,{class:"flex"},{default:l(()=>[t(V,{type:"info",underline:"never",onClick:e[6]||(e[6]=p=>a.value=!0)},{default:l(()=>e[14]||(e[14]=[m(" 注册 → ")])),_:1,__:[14]})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},Se=ae(we,[["__scopeId","data-v-2df2bd4d"]]);export{Se as default};
